# ========================================
# Configuração do Mosquitto MQTT Broker
# ========================================
# Sistema de Monitoramento - Grupo 10

# Permitir conexões sem autenticação
# ⚠️ Para produção, configure usuário/senha!
allow_anonymous true

# Escutar em todas as interfaces (IPv4)
listener 1883 0.0.0.0

# IMPORTANTE: Em Mosquitto 2.x, quando você especifica um listener,
# você DEVE adicionar allow_anonymous true para permitir conexões!

# Persistência de mensagens
persistence true
persistence_location /mosquitto/data/

# Logs
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type all

# Porta WebSocket (opcional)
#listener 9001
#protocol websockets

# ========================================
# CONFIGURAÇÃO COM AUTENTICAÇÃO (Opcional)
# ========================================
# Descomente as linhas abaixo para ativar senha:
#
# allow_anonymous false
# password_file /mosquitto/config/passwords.txt
#
# Para criar usuários, execute:
# docker exec -it mosquitto mosquitto_passwd -c /mosquitto/config/passwords.txt usuario
# ========================================
